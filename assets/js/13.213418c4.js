(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{409:function(t,s,a){"use strict";a.r(s);var e=a(12),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("blockquote",[a("p",[t._v("简单介绍了"),a("a",{attrs:{href:"https://docs.google.com/document/d/1QrDFcIiPjSLDn3EL15IJygNPiHORgU1_OOAqWjiDU5Y/edit#heading=h.greljkmo14y0",target:"_blank",rel:"noopener noreferrer"}},[t._v("Angular 规范"),a("OutboundLink")],1),t._v("，并说明了自动commit工具Commitizen的使用方法")])]),t._v(" "),a("h2",{attrs:{id:"规范的意义"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#规范的意义"}},[t._v("#")]),t._v(" 规范的意义")]),t._v(" "),a("p",[t._v("git commit 是大家在使用git的时候一定会使用的功能，对应本次提交的记录，"),a("strong",[t._v("一个好的程序员需要重视每一条记录")]),t._v("，因而，本文简单介绍目前最常用的"),a("a",{attrs:{href:"https://docs.google.com/document/d/1QrDFcIiPjSLDn3EL15IJygNPiHORgU1_OOAqWjiDU5Y/edit#heading=h.greljkmo14y0",target:"_blank",rel:"noopener noreferrer"}},[t._v("Angular 规范"),a("OutboundLink")],1),t._v("，并简单介绍自动化生成commit 的工具。")]),t._v(" "),a("h2",{attrs:{id:"git-commit-格式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#git-commit-格式"}},[t._v("#")]),t._v(" git commit 格式")]),t._v(" "),a("p",[t._v("每次提交，Commit message 都包括三个部分：Header，Body 和 Footer。")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("<type> (<scope>): <subject>     // header\n// 空一行\n<body>\n// 空一行\n<footer>\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])]),a("p",[t._v("其中，Header 是必需的（也是最常用的），Body 和 Footer 可以省略。")]),t._v(" "),a("h3",{attrs:{id:"header"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#header"}},[t._v("#")]),t._v(" Header")]),t._v(" "),a("h4",{attrs:{id:"type"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#type"}},[t._v("#")]),t._v(" type")]),t._v(" "),a("p",[t._v("type说明commit的类别，只允许使用以下标示。")]),t._v(" "),a("ul",[a("li",[t._v("feat: 新特性(feature)")]),t._v(" "),a("li",[t._v("fix: 修改bug")]),t._v(" "),a("li",[t._v("docs: 项目文档变动")]),t._v(" "),a("li",[t._v("style: 项目"),a("strong",[t._v("代码风格")]),t._v("变化，不是css的变化")]),t._v(" "),a("li",[t._v("refactor: 代码重构（项目功能不变，常用的情景是对功能的实现进行重写）")]),t._v(" "),a("li",[t._v("test: 增加测试内容")]),t._v(" "),a("li",[t._v("chore: 描述构建过程或者辅助工具的变动")])]),t._v(" "),a("h4",{attrs:{id:"scope"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#scope"}},[t._v("#")]),t._v(" scope")]),t._v(" "),a("p",[t._v("scope说明commit的影响范围，比如：route, component, utils, build...")]),t._v(" "),a("h4",{attrs:{id:"subject"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#subject"}},[t._v("#")]),t._v(" subject")]),t._v(" "),a("p",[t._v("subject是本次commit的内容简要描述，一定要简明扼要，默认不超过50个字符，建议遵循以下约定。")]),t._v(" "),a("ul",[a("li",[t._v("以动词开头，使用第一人称现在时")]),t._v(" "),a("li",[t._v("第一个字母小写")]),t._v(" "),a("li",[t._v("结尾不加句号")])]),t._v(" "),a("h3",{attrs:{id:"body"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#body"}},[t._v("#")]),t._v(" Body")]),t._v(" "),a("p",[t._v("Body 用于对当前commit的详细描述，无过多规范")]),t._v(" "),a("h3",{attrs:{id:"footer"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#footer"}},[t._v("#")]),t._v(" Footer")]),t._v(" "),a("p",[t._v("常用于关闭Issue")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Closes #222\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("h2",{attrs:{id:"自动工具commitizen"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#自动工具commitizen"}},[t._v("#")]),t._v(" 自动工具Commitizen")]),t._v(" "),a("p",[t._v("emmm严格来讲，我不是很推崇使用自动化工具，"),a("strong",[t._v("会使开发者更关注工具而非标准本身")]),t._v("，我对于自动化工具的态度是：在开发者对规范有了一定程度的了解的基础上，使用工具提升开发效率（"),a("s",[a("em",[t._v("虽然优化git commit的提交并不能带来多少效率的提升")])]),t._v("）")]),t._v(" "),a("p",[t._v("还是介绍一下目前主流的被认为比较优雅的自动化工具Commitizen。")]),t._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 安装，建议使用全局安装")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 主要作用是安装git-cz以及commitizen")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" -g commitizen\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 在git项目里，运行下面的命令，使其支持Angular 的 Commit message 格式")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 由于commitizen是基于node的，所以运行此命令必须保证当前目录下存在package.json文件，否则会报错")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 安装cz-conventional-changelog作为commitizen的适配器")]),t._v("\ncommitizen init cz-conventional-changelog --save --save-exact\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 使用git cz 代替git commit，按提示操作即可")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" cz\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br")])]),a("p",[t._v("以上方法有一个挺大的"),a("strong",[t._v("弊端")]),t._v("，查看项目的package.json，在运行commitizen会有以下内容")]),t._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"devDependencies"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"cz-conventional-changelog"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^3.1.0"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"config"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"commitizen"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"path"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./node_modules/cz-conventional-changelog"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br")])]),a("p",[t._v("分别对应运行需要的依赖及配置，直接写入package.json，这意味着会将上面两段内容上传至仓库（"),a("em",[a("s",[t._v("这样大家都知道你在偷懒了，不符合开发者应该直接使用命令行的基本操作")])]),t._v("）")]),t._v(" "),a("p",[t._v("那你可以这样做")]),t._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 全局安装commitizen及其适配器")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" -g commitizen cz-conventional-changelog\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 设置默认配置环境(ubuntu下)")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('\'{ "path": "cz-conventional-changelog" }\'')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" ~/.czrc\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 使用")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" cz\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br")])]),a("p",[t._v("这样可以在大家都不知道的情况下偷懒了，不偷懒是不可能的。")]),t._v(" "),a("h2",{attrs:{id:"总结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),a("p",[t._v("开发者需要对开发过程中提到的任何一个标准敏感，git commit就是其中之一。")]),t._v(" "),a("h2",{attrs:{id:"参考文章"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考文章"}},[t._v("#")]),t._v(" 参考文章")]),t._v(" "),a("ul",[a("li",[t._v("阮一峰： "),a("a",{attrs:{href:"https://www.ruanyifeng.com/blog/2016/01/commit_message_change_log.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Commit message 和 Change log 编写指南"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("掘金社区："),a("a",{attrs:{href:"https://juejin.im/post/5afc5242f265da0b7f44bee4",target:"_blank",rel:"noopener noreferrer"}},[t._v("优雅的提交你的 Git Commit Message"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=n.exports}}]);